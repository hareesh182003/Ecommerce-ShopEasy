{% extends 'app/sample.html' %}
{% load static %}
{% block title %}
<title>Home Page</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link rel="stylesheet" href="{% static 'css/sidebar.css' %}">
{% endblock %}


{% block body_block %}
{% if username1 %}
<section class="advertisement-section">
    <div class="carousel">
        <!-- Duplicate the images for a seamless loop -->
        <div class="carousel-item"><img src="{% static 'images/bluetooth_speaker.jpg' %}" alt="Product 1"></div>
        <div class="carousel-item"><img src="{% static 'images/earbuds.jpg' %}" alt="Product 2"></div>
        <div class="carousel-item"><img src="{% static 'images/earphones.jpg' %}" alt="Product 3"></div>
        <div class="carousel-item"><img src="{% static 'images/mouse.jpg' %}" alt="Product 4"></div>
        <div class="carousel-item"><img src="{% static 'images/projector.jpg' %}" alt="Product 4"></div>
        <div class="carousel-item"><img src="{% static 'images/smart_watch.jpg' %}" alt="Product 4"></div>

    </div>
</section>


<div class="filters-container">
    <div class="row">
        <div class="col-3">
            <button class="filters-toggle btn btn-secondary w-100 mb-3">Filters</button>
            <div class="filters-section collapse  text-center">
                <h4>Filter Products</h4>
                <form method="POST" action="{% url 'home' %}">
                    <!-- Category Filter -->
                     {% csrf_token %}
                    <div class="mb-3">
                        <label for="category" class=" text-center form-label">Category</label>
                        <select name="category" id="category" class="text-center form-select">
                            <option value="">All Categories</option>
                            <option value="earphones">Earphones</option>
                            <option value="smartwatch">Smartwatch</option>
                            <option value="mouse">Mouse</option>
                            <option value="bluetooth_speaker">Bluetooth Speaker</option>
                            <option value="earbuds">Earbuds</option>
                            <option value="projector">Projector</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Apply Filters</button>
                </form>
            </div>
        </div>
    </div>
</div>



{% if products %}
        <main class="product-container">
        {% for prd in products %}
            <div class="product-card">
                <img src="{% static 'images/earphones.jpg' %}" alt="Product Image" class="product-image">
                <div class="product-details">
                    <h2 class="product-title">Earphones</h2>
                    <p class="product-description"> Experience crystal-clear sound and all-day comfort with sleek,
                        high-quality earphones. </p>
                    <p class="product-price">&#8377; 499.99</p>
                    <button class="buy-now">Buy Now</button>
                </div>
            </div>
        {% endfor %}
{% else %}
    <main class="product-container">
        <!-- Product Card -->
        <div class="product-card">
            <img src="{% static 'images/earphones.jpg' %}" alt="Product Image" class="product-image">
            <div class="product-details">
                <h2 class="product-title">Earphones</h2>
                <p class="product-description"> Experience crystal-clear sound and all-day comfort with sleek,
                    high-quality earphones. </p>
                <p class="product-price">&#8377; 499.99</p>
                <button class="buy-now">Buy Now</button>
            </div>
        </div>

        <div class="product-card">
            <img src="{% static 'images/smart_watch.jpg' %}" alt="Product Image" class="product-image">
            <div class="product-details">
                <h2 class="product-title">smartwatch</h2>
                <p class="product-description">Stay connected and track your fitness with a sleek, feature-packed
                    smartwatch.</p>
                <p class="product-price">&#8377;799.99</p>
                <button class="buy-now">Buy Now</button>
            </div>
        </div>

        <div class="product-card">
            <img src="{% static 'images/mouse.jpg' %}" alt="Product Image" class="product-image">
            <div class="product-details">
                <h2 class="product-title">Mouse</h2>
                <p class="product-description">Precision and comfort combined in a stylish, ergonomic mouse for work and
                    play.</p>
                <p class="product-price">&#8377;699.99</p>
                <button class="buy-now">Buy Now</button>
            </div>
        </div>

        <div class="product-card">
            <img src="{% static 'images/bluetooth_speaker.jpg' %}" alt="Product Image" class="product-image">
            <div class="product-details">
                <h2 class="product-title">Blueetooth Speaker</h2>
                <p class="product-description">Enjoy powerful, portable sound with deep bass and seamless Bluetooth
                    connectivity.</p>
                <p class="product-price">&#8377;599.99</p>
                <button class="buy-now">Buy Now</button>
            </div>
        </div>

        <div class="product-card">
            <img src="{% static 'images/earbuds.jpg' %}" alt="Product Image" class="product-image">
            <div class="product-details">
                <h2 class="product-title">Earbuds</h2>
                <p class="product-description">Lightweight earbuds with immersive audio and a secure, comfortable fit for
                    all-day use.</p>
                <p class="product-price">&#8377;999.99</p>
                <button class="buy-now">Buy Now</button>
            </div>
        </div>

        <div class="product-card">
            <img src="{% static 'images/projector.jpg' %}" alt="Product Image" class="product-image">
            <div class="product-details">
                <h2 class="product-title">Projector</h2>
                <p class="product-description"> Bring your screen to life with a high-resolution, portable projector for
                    home or office.</p>
                <p class="product-price">&#8377;1299.99</p>
                <button class="buy-now">Buy Now</button>
            </div>
        </div>

    </main>
{% endif %}

<script src="{% static 'js/advertise.js' %}"></script>



<!-- Before user login -->
{% else %}
<section class="container-fluid mt-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-8 text-center">
            <h1 class="display-4">Welcome to ShopEasy</h1>
            <p class="lead text-muted">Your one-stop shop for everything you need!</p>

            <!-- Promotional Banner -->
            <div class="alert alert-info" role="alert">
                <strong>Special Offer:</strong> Get 10% off on your first purchase! <a href="#" class="alert-link">Shop
                    Now</a>.
            </div>

            <!-- Featured Products -->
            <div class="row">
                <div class="col-12 col-md-4">
                    <div class="card">
                        <img src="{% static 'images/earbuds.jpg' %}" class="product-image" alt="Featured Product">
                        <div class="card-body">
                            <h5 class="card-title">Product 1</h5>
                            <p class="card-text">$99.99</p>
                            <a href="#" class="btn btn-primary">View Details</a>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="card">
                        <img src="{% static 'images/smart_watch.jpg' %}" class="product-image" alt="Featured Product">
                        <div class="card-body">
                            <h5 class="card-title">Product 2</h5>
                            <p class="card-text">$149.99</p>
                            <a href="#" class="btn btn-primary">View Details</a>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="card">
                        <img src="{% static 'images/earphones.jpg' %}" class="product-image" alt="Featured Product">
                        <div class="card-body">
                            <h5 class="card-title">Product 3</h5>
                            <p class="card-text">$79.99</p>
                            <a href="#" class="btn btn-primary">View Details</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-4">
                <p class="mt-3">Already have an account? <a href="{% url 'loginPage' %}">Login here</a></p>
            </div>
        </div>
    </div>
</section>
{% endif %}

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const toggleButton = document.querySelector(".filters-toggle");
        const filtersSection = document.querySelector(".filters-section");

        toggleButton.addEventListener("click", function () {
            if (filtersSection.style.display === "block") {
                filtersSection.style.display = "none";
            } else {
                filtersSection.style.display = "block";
            }
        });
    });
</script>
{% endblock %}